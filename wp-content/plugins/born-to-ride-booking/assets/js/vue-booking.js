document.addEventListener('DOMContentLoaded', function() {    var appElement = document.getElementById('btr-booking-app');    if (appElement) {        var bookingData = JSON.parse(appElement.getAttribute('data-booking-data'));        new Vue({            el: '#btr-booking-app',            data: {                title: bookingData.title,                description: bookingData.description,                date_ranges: bookingData.date_ranges,                maxPeople: bookingData.num_persone_max,                adults: 0,                children: 0,                rooms: bookingData.rooms,                selectedDate: '',                notificationMessage: '',                confirmationMessage: '',                totalSelectedCapacity: 0            },            methods: {                updateRoomSelection() {                    let totalSelectedCapacity = 0;                    let totalPeople = this.adults + this.children;                    // Calcola quante persone sono state sistemate nelle camere selezionate                    this.rooms.forEach(room => {                        if (room.selected > 0) {                            totalSelectedCapacity += room.selected * room.capacity;                        }                    });                    this.totalSelectedCapacity = totalSelectedCapacity;                    let remainingPeople = totalPeople - totalSelectedCapacity;                    // Logica per mostrare il messaggio di condivisione delle stanze                    if (remainingPeople > 0 && remainingPeople <= totalPeople) {                        this.notificationMessage = `Ci sono ${remainingPeople} persone che condivideranno la camera con un altro gruppo.`;                        this.confirmationMessage = '';                    } else if (remainingPeople === 0) {                        this.confirmationMessage = 'Selezione stanze corretta!';                        this.notificationMessage = '';                    } else {                        this.notificationMessage = '';                        this.confirmationMessage = '';                    }                },                suggestRoomLayout() {                    // Suggerisci una composizione ottimale di camere per il numero totale di persone                    let totalPeople = this.adults + this.children;                    // Reset selezione camere                    this.rooms.forEach(room => {                        room.selected = 0;                    });                    // Assegna le stanze in base alla capacitÃ                     this.rooms.forEach(room => {                        if (totalPeople >= room.capacity && room.available > 0) {                            let roomsNeeded = Math.floor(totalPeople / room.capacity);                            if (roomsNeeded <= room.available) {                                room.selected = roomsNeeded;                                totalPeople -= roomsNeeded * room.capacity;                            }                        }                    });                    this.updateRoomSelection();                },                submitBooking() {                    console.log('Invio preventivo...');                }            },            watch: {                adults: 'updateRoomSelection',                children: 'updateRoomSelection',                rooms: {                    handler: 'updateRoomSelection',                    deep: true                }            },            mounted() {                console.log('Dati caricati correttamente:', this.rooms);            }        });    }});